<!DOCTYPE html>
<html>
  <head>
    <title>Circle Calendar</title>
    <style>
      body, html {
        margin: 0;
        min-height: 100%;
        padding: 0;
      }

      #svg {
        max-width: 600px;
      }
    </style>
    <script src="snap.svg-min.js"></script>
  <head>
  <body>

    <div>
      <svg id="svg" viewbox="0 0 600 600" style="background: #336699;"></svg>
    </div>

    <script type="text/javascript">


      /**
       * Functions
       */

      function getDaysInMonth(m, y) {
        return /8|3|5|10/.test(--m)?30:m==1?(!(y%4)&&y%100)||!(y%400)?29:28:31;
      }

      function createNodes (numNodes, radius, where) {
        var nodes = [];
        var width = (radius * 2) + where;
        var angle, x, y, i;
        for (i = 0; i < numNodes; i++) {
          angle = (i / (numNodes / 2)) * Math.PI;
          x = (radius * Math.cos(angle)) + (width / 2);
          y = (radius * Math.sin(angle)) + (width / 2) + 15;

          nodes.push({
            x: x,
            y: y
          });
        }

        return nodes;
      }

      function animatePath (path, time) {

        console.log(path);

        var length = path.getTotalLength();
        path.style.transition = path.style.WebkitTransition = 'none';
        path.style.strokeDasharray = length + ' ' + length;
        path.style.strokeDashoffset = length;

        path.getBoundingClientRect();

        path.style.transition = path.style.WebkitTransition = 'stroke-dashoffset ' + time + 's ease-in-out';
        path.style.strokeDashoffset = '0';
      }

      /**
       * End of functions
       */



      var snap = Snap('#svg');

      // Create the background and circle
      var imageBackground = snap.image('image.png', 0, 0, 600, 600);
      var calendarCircle = snap.circle(300, 300, 200).attr({
        fill: '#FFFFFF'
      });

      // Mask background
      //imageBackground.attr({
      //  mask: calendarCircle
      //});

      // Some date assigning
      var date = new Date();
      var numDatesThisMonth = getDaysInMonth(date.getMonth() + 1, date.getFullYear());

      var numberCircleNodes = createNodes(numDatesThisMonth, 220, 140);

      for (var i = 0; i < numDatesThisMonth; i++) {
        snap.text(numberCircleNodes[i].x, numberCircleNodes[i].y, (i + 1)).attr({
          'font-size': 14,
          'fill': '#000000'
        });
      }

      var simplePath = snap.path("M0 0S50 25 100 100").attr({
        stroke: 'red',
        'stroke-width': 2,
        fill: 'transparent'
      });

      console.log(simplePath.node);
      var path = simplePath.node;

      animatePath(path, 3);

    </script>

  </body>
</html>
